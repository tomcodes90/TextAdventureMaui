<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:TextAdventureMaui.ViewModels"
             xmlns:controls="clr-namespace:TextAdventureMaui.Views.Controls"
             x:Class="TextAdventureMaui.Views.DobblePage">

    <!-- Fullscreen grid -->
    <Grid RowDefinitions="*" ColumnDefinitions="*">
        <!-- Main game container -->
        <VerticalStackLayout Spacing="20" Padding="20"
                             HorizontalOptions="Center"
                             VerticalOptions="Center">

            <Label Text="Dobble Game" 
                   FontSize="28" 
                   HorizontalOptions="Center" />

            <!-- Timer -->
            <VerticalStackLayout Spacing="5" WidthRequest="200" HorizontalOptions="Center">
                <Label Text="{Binding TimeLeftSeconds, StringFormat='Time: {0:0.0}s'}"
                       FontSize="18"
                       HorizontalOptions="Center" />
                <ProgressBar Progress="{Binding TimeProgress}"
                             HeightRequest="8"
                             ProgressColor="{Binding TimerColor}"
                             BackgroundColor="LightGray"
                             ScaleY="7"/>


            </VerticalStackLayout>

            <!-- Score & fails -->
            <Label Text="{Binding Score, StringFormat='Score: {0}'}" FontSize="18" HorizontalOptions="Center" />
            <Label Text="{Binding Fails, StringFormat='Fails: {0}'}" FontSize="18" HorizontalOptions="Center" />
            <Label Text="{Binding GameMessage}" FontSize="20" HorizontalOptions="Center" />

            <!-- The two cards side by side -->
            <Grid ColumnDefinitions="Auto,40,Auto" HorizontalOptions="Center">
                <controls:DobbleCardView Grid.Column="0"
                                         Icons="{Binding Card1}"
                                         IconTappedCommand="{Binding SelectIconCommand}" />
                <BoxView Grid.Column="1" WidthRequest="40" />
                <controls:DobbleCardView Grid.Column="2"
                                         Icons="{Binding Card2}"
                                         IconTappedCommand="{Binding SelectIconCommand}" />
            </Grid>

            <Button Text="Restart" Command="{Binding StartNewGameCommand}" HorizontalOptions="Center" />
        </VerticalStackLayout>
    </Grid>
</ContentPage>
