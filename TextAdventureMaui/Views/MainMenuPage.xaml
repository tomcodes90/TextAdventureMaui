<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:TextAdventureMaui.Views.Controls"
             xmlns:vm="clr-namespace:TextAdventureMaui.ViewModels"
             x:Class="TextAdventureMaui.Views.MainMenuPage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundLight}, Dark={StaticResource BackgroundDark}}">

    <Grid RowDefinitions="*" ColumnDefinitions="*">

        <!-- Full-screen background -->
        <Image Source="main.png"
               Aspect="Fill"
               HorizontalOptions="Fill"
               VerticalOptions="Fill" />

        <!-- Foreground content -->
        <Grid RowDefinitions="*,Auto" ColumnDefinitions="Auto,*">

            <!-- Menu bottom-left -->
            <VerticalStackLayout Spacing="10" Padding="50"
                                 Grid.Row="1" Grid.Column="0"
                                 VerticalOptions="End"
                                 HorizontalOptions="Start"
                                 IsVisible="{Binding ShowMainMenu}">
                
                <controls:NarratorDialogue
                    Text="Welcome, hero! Are you ready to start your adventure?"
                    Icon="narrator.png" />

                <controls:MenuButton Text="Start New Game"
                                     Icon="adventurer.png"
                                     Command="{Binding StartCommand}" />

                <controls:MenuButton Text="Settings"
                                     Icon="settings.png"
                                     Command="{Binding SettingsCommand}" />

                <controls:MenuButton Text="Quit"
                                     Icon="exit.png"
                                     Command="{Binding ExitCommand}" />
            </VerticalStackLayout>

            <!-- Character creation overlay -->
            <controls:CharacterCreationPanel
                Grid.Row="0" Grid.RowSpan="2"
                Grid.Column="0" Grid.ColumnSpan="2"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                IsVisible="{Binding ShowCharacterCreation}" />

        </Grid>
    </Grid>
</ContentPage>
